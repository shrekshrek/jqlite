/*!
 * forked from GIT: https://github.com/shrekshrek/jqlite
 **/

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.$=e()}(this,function(){"use strict";var t=Array,e=[],n=e.slice,r=e.indexOf,i=document,o=Object,a=o.prototype.hasOwnProperty,u=o.assign,c=o.keys,s=void 0,f=!1,l=!0,h=null,d=/^\s*<(\w+|!)[^>]*>/,p={tr:"tbody",tbody:"table",thead:"table",tfoot:"table",td:"tr",th:"tr","*":"div"},v=i.querySelector("head"),m="__jql__EventListenersMap",g="__jql__DataMap";function y(t,e,n){var r=e.e,i=e.fn,o=e.ns,a=e.sel;return t&&(!r||t.e===r)&&(!o||(n?t.ns===o:0===t.ns.indexOf(o)))&&(!i||t.fn===i)&&(!a||t.sel===a)}function b(t){var e,n;if(t)if(E(t)){var r=t.indexOf(".");-1!==r?(e=t.slice(0,r).trim(),n=t.slice(r).trim()+"."):(e=t.trim(),n="")}else if(L(t))return u({},t);return{e:e,ns:n}}function T(t){return t instanceof Window}function w(t){return"object"==typeof t}function L(t){return!!t&&w(t)}function C(t){return L(t)&&!T(t)&&o.getPrototypeOf(t)===o.prototype}function x(t){return"function"==typeof t}function E(t){return"string"==typeof t}function M(t){return E(t)?t:""}function N(t){return function(t){return"number"==typeof t}(t)&&isFinite(t)}function j(t){return"boolean"==typeof t}function A(e){return t.isArray(e)}function D(t){return t instanceof Element}function O(t){return t instanceof Document}function S(t){return D(t)||T(t)||O(t)}function R(t){if(A(t)||E(t))return l;if(!L(t))return f;var e=t.length;return 0===e||N(e)&&e>0&&e-1 in t}function H(t){return t instanceof NodeList}function P(t){return t instanceof HTMLCollection}function q(t,e){if(L(t))for(var n in t)if(!e||a.call(t,n))return f;return l}var I=window.$=function(t,e){var n;if(!t)return new W;if(B(t))return t;if(E(t))if("<"===(t=t.trim())[0]){var r=d.test(t)&&RegExp.$1;r in p||(r="*"),n=$(t,r).children}else n=F(e||i,t);else if(A(t)||H(t)||P(t))n=t;else if(L(t))n=[t];else if(x(t))return U(t);return new W(n)};function W(t){this.length=0,function t(e,n){for(var i,o=0,a=0,u=n?n.length:0;a<u;a++)A(i=n[a])||H(i)||P(i)||B(i)?t(e,i):i&&-1===r.call(e,i)&&(o++,e[a]=n[a]);e.length+=o}(this,t)}function k(t,e,n){if(e&&(L(e)||x(e)))for(var r in e)a.call(e,r)&&(n&&(C(e[r])||A(e[r]))?(C(e[r])&&!C(t[r])&&(t[r]={}),A(e[r])&&!A(t[r])&&(t[r]=[]),k(t[r],e[r],n)):e[r]!==s&&(t[r]=e[r]))}function B(t){return t instanceof W}function F(t,e){return t.querySelectorAll(e)}function _(t,e,n){if(t)for(var r=0,i=t.length;r<i&&e.call(n||t[r],r,t[r],t)!==f;r++);return t}function X(t,e,n){if(L(t))for(var r in t)if(a.call(t,r)&&e.call(n||t[r],r,t[r],t)===f)break;return t}function U(t){(i.attachEvent?"complete"===i.readyState:"loading"!==i.readyState)?t():i.addEventListener("DOMContentLoaded",t,f)}function V(){return i.implementation.createHTMLDocument("")}function $(t,e,n){L(e)&&(n=e,e="");var r=(n||V()).createElement(e||"div");return r.innerHTML=t,r}function Q(t){return t[0].toUpperCase()+t.slice(1)}function z(t){return t?t[0].toLowerCase()+t.slice(1):t}var J=97,G=122,K=65,Y=90;function Z(t){if(L(t)){var e,n=[];for(var r in t)a.call(t,r)&&(e=t[r])!=h&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e));return n.join("&")}return t}function tt(t,e,n,r,i){return L(t)?t:(x(e)&&(i=r,r=n,n=e,e=s),x(n)||(i=r,r=n,n=s),{url:t,data:e,type:i,success:n,dataType:r})}function et(t,e){var n=i.createElement("script");if(u(n,t),L(e))for(var r in e)a.call(e,r)&&n.setAttribute(r,e[r]);return v.appendChild(n),v.removeChild(n),n}function nt(t,e){try{return t[e]=s,delete t[e]}catch(t){}}function rt(t){return t?"":"&_="+Date.now()}function it(t,e){return(t=String(t).replace(/#[\s\S]*/,""))+(-1===t.indexOf("?")?"?":"&"===t[t.length-1]?"":"&")+e.replace(/^[?&]+/,"")}function ot(){}function at(t,e){return function(n){var r=t,i=e;t=e=s,r&&r(i,n)}}function ut(t,e,n,r,i){var o=(t=tt(t,e,n,r,i)).onerror,a=t.complete;if(o=x(o)?o:s,a=x(a)?a:s,!E(t.url))return(o||a)&&setTimeout(function(){var t=a,e=s,n="error:InvalidURL";o=a=s,t&&t(e,n)}),{abort:ot};var c=t.dataType?t.dataType.toLowerCase():"text";if("jsonp"===c)return function(t){var e=t.jsonp||"callback",n=t.jsonpCallback||"jsonpCallback_"+Date.now(),r=t.success,i=t.onerror,o=t.complete;r=x(r)?r:s,i=x(i)?i:s,o=x(o)?o:s;var a=t.data||{};a[e]=n;var u,c,d=t.timeout;window[n]=function(t){c=t};var p,v=p={abort:function(){m&&m({type:"abort",isLocaleAbort:l})}},m=function(t){u&&clearTimeout(u),p&&(p.abort=ot);var e,a=t.currentTarget,f=r,l=i,h=c,d=o,v=t.type;p=c=u=o=r=i=m=s,"timeout"===v&&t.isLocaleAbort||(a&&(a=a.onerror=a.onload=a.onabort=r),nt(window,n),n=r),"load"!==v||h===s&&(v="parseError")?l&&l(e,v):(e=h,f&&f(e,v)),d&&d(e,v)};return d>0&&(u=setTimeout(function(){u&&(u=h,m&&m({type:"timeout"}))},d)),et({src:it(t.url,Z(a)+rt(t.cache!==f)),onload:m,onerror:m,onabort:m}),v}(t);var d=Z(t.data||{}),p=t.body;p||(p=d,d="");var v,m=new XMLHttpRequest,g=t.type?t.type.toUpperCase():"GET",y="script"!==c&&t.async!==f;m.open(g,it(t.url,d,rt(t.cache!==f)),y,t.username,t.password);var b=t.xhrFields;if(L(b))for(v in b)m[v]=b[v];var T=t.mimeType;T&&m.overrideMimeType&&m.overrideMimeType(T);var w={"Content-Type":t.contentType||"POST"===g&&"application/x-www-form-urlencoded; charset=UTF-8"||""};for(v in u(w,t.headers),t.crossDomain||w["X-Requested-With"]||(w["X-Requested-With"]="XMLHttpRequest"),w)m.setRequestHeader(v,w[v]);var C,M,N,j,A,D=t.loadstart,O=t.progress,S=t.loadend,R=t.success,H=0;R=x(R)?R:s,D=x(D)?D:s,O=x(O)?O:s,S=x(S)?S:s;var P,q,I=t.timeout,W=P={abort:function(){k&&k({type:"abort",isLocaleAbort:l})}},k=function(t){var e=t.type,n=m,r=c,i=R,u=o,f=a,l=M;if(q&&clearTimeout(q),j&&clearTimeout(j),P&&(P.abort=ot),P=c=q=N=H=A=j=R=o=a=D=O=M=m=k=s,n){n.onload=n.onerror=n.onabort=n.onloadstart=n.onprogress=n.ontimeout=n.onreadystatechange=s;var h=n.status,d=n.responseType;(t.isLocalAbort||t.isLocaleTimeout)&&n.abort&&n.abort();var p;if(e="load"===e?h>=200&&h<400?e:"error":e,l&&l(n,e),!i&&!u&&!f&&"script"!==r)return;if("load"===e){if("arraybuffer"===d||"blob"===d)p=n.response;else if("xml"===r)p=n.responseXML;else switch(p=n.responseText,r){case"json":p=JSON.parse(p);break;case"script":et({text:p})}i&&i(p,e,n)}else u&&u(p,e,n);f&&f(p,e,n)}};return D&&(m.onloadstart!==s?m.onloadstart=D:C=function(){m&&D&&D({currentTarget:m,target:m,type:"loadstart",isLocaleLoadstart:l})}),O&&(m.onprogress!==s?m.onprogress=O:(A=Math.min(Math.max((0|I)/100,100),100),N=function(){N&&O&&m&&++H<99&&(j=setTimeout(N,A),O({currentTarget:m,progress:H,target:m,type:"progress",isLocaleProgress:l}))})),m.onload=m.onerror=k,m.onabort!==s?m.onabort=k:m.onreadystatechange=function(){k&&m&&4===m.readyState&&setTimeout(function(){k&&k({type:"abort"})})},S&&(m.onloadend!==s?m.onloadend=function(t){var e=S;t.currentTarget.onloadend=s,e(t)}:M=function(t,e){setTimeout(function(){var n=S,r=t,i=e;S=t=e=s,n({type:"loadend",currentTarget:r,target:r,originalType:i,isLocaleLoadend:l})})}),I>0&&(m.timeout=I,m.ontimeout!==s?m.ontimeout=k:y&&(q=setTimeout(function(){q&&(q=h,k&&k({type:"timeout",isLocaleTimeout:l}))},I))),C&&C(),N&&(j=setTimeout(N,A)),m.send(p),W}function ct(t,e,n){for(var r in n)a.call(n,r)&&t[e](r,n[r])}function st(t,e){return t?A(e)?e:L(e)?c(e):[e]:s}function ft(t,e){for(var n=0,r=t&&t.length;n<r;n++)e(t[n])}function lt(t){if(!t)return h;var e=t[g];return e||(e=t[g]={},X(t.dataset,function(t,n){e[t]=n})),e}function ht(t,e){return e?x(e)?e(t):D(t)&&(E(e)?e.trim():e)?t.matches(e):f:l}function dt(t,e,n){return n===s?Lt(t[0],e):t.css(e,n)}function pt(t,e,n){return n===s||j(n)?function(t,e,n,r){var i="Width"===(r=r||Q(r))?["marginLeft","marginRight"]:["marginTop","marginBottom"];if(D(t)){var o=t["offset"+r];if(n){var a=bt(t);return o+(parseInt(a[i[0]])||0)+(parseInt(a[i[1]])||0)}return o}return Lt(t,e)}(this[0],e,n):this.css(e,n)}u(I,{is$:B,query:F,extend:function(t){var e,r=n.call(arguments,1);if(j(t)&&(e=t,t=r.shift()),t&&(L(t)||x(t)))for(var i=0,o=r.length;i<o;i++)k(t,r[i],e);return t},isObjectT:w,isObject:L,isPlainObject:C,isEmptyObject:q,isEmpty:function(t){return!t||L(t)&&q(t,l)},isFunction:x,isString:E,iifString:M,isNumber:N,iifNumber:function(t){return N(t)||0},isBoolean:j,isArray:A,isDate:function(t){return t instanceof Date},isRegExp:function(t){return t instanceof RegExp},isWindow:T,isCurrentWindow:function(t){return t===window},isElement:D,isNode:function(t){return t instanceof Node},isEleWinDoc:S,isNodeList:H,isHTMLCollection:P,parseHTML:function(t,e,r){if(!E(t))return[];if(j(e)&&(r=e,e=f),t=$(t,e),!r)for(var i=t.getElementsByTagName("script"),o=0,a=i.length;o<a;o++){var u=i[o];u.parentNode.removeChild(u)}return n.call(t.childNodes)},parseXML:function(t,e){var n;if(t&&E(t)){try{n=(new DOMParser).parseFromString(t,e||"application/xml")}catch(t){console.error(t)}n&&!n.getElementsByTagName("parsererror").length||(n=h,console.error("Invalid XML: ",t))}return n},newDocument:V,createTempElement:function(t,e){return(e||V()).createElement(t)},innerHTMLToTemp:$,newXMLDocument:function(t,e,n){return i.implementation.createDocument(t,e,n)},createDocFragment:function(t){var e=i.createDocumentFragment();return t&&(e=I(e).append(t)[0]),e},contains:function(t,e){return t!==e&&t.contains(e)},each:function(t,e,n){return R(t)?_(t,e,n):X(t,e,n)},eachI:_,eachIn:X,initCap:Q,invertCap:z,invertCase:function(t){if(!t)return t;for(var e,n,r=[],i=0,o=t.length;i<o;i++)n=(e=t[0]).charCodeAt(0),r[i]=n>=J&&n<=G?e.toUpperCase():n>=K&&n<=Y?e.toLowerCase():e;return r.join("")},aCharCode:J,zCharCode:G,ACharCode:K,ZCharCode:Y}),u(I,{get:function(t,e,n,r){return ut(t,e,n,r)},post:function(t,e,n,r){return ut(t,e,n,r,"POST")},getJSON:function(t,e,n){return tt().dataType="json",ut(t,e,n,"json")},loadImage:function t(e,n){if(n=x(n)?n:f,A(e)){var r=e.length,i=[];if(!r)return n&&n(),i;for(var o=[],a=l,u=n&&function(t,e){if(o[t]=e,a=a&&e!==s,--r<=0){var i=n;u=n=s,o[o.length]=a,i.apply(h,o)}},c=0;c<r;c++)i[c]=t(e[c],u&&at(u,c));return i}var d=new Image;return n&&(d.onload=d.onerror=d.onabort=function(t){var e=n;this.onload=this.onerror=this.onabort=n=s,"load"===t.type?e(this):e()}),d.src=e,d},tryDelete:nt,runScript:et,ajax:ut,replace:function(t){x(t)&&(ut=t)}});var vt=I.cssNormalTransform={letterSpacing:"0",fontWeight:"400"},mt=I.toDataSetKey=function(t){if(M(t)){if(t.indexOf("-")>-1){for(var e,n=t.split("-"),r=n.length,i=1;i<r;i++)(e=n[i])&&(n[i]=Q(e));return n.join("")}return t}return""},gt=I.toStyleNameList=function(t){if(t=mt(t.replace(/^-/,""))){var e="webkit"+(t=Q(t)),n="moz"+t,r="ms"+t;return[z(t),e,n,r]}},yt={getPropertyValue:function(){return""}},bt=I.getComputedStyle=function(t){if(!t)return yt;try{return(t.ownerDocument.defaultView||window).getComputedStyle(t)}catch(e){return t.style||yt}},Tt=I.getStyleValue=function(t,e){if(!t)return s;var n,r=bt(t);if(!A(e))return E(n=r[e])?n:s;for(var i=0,o=e.length;i<o;i++)if(E(n=r[e[i]]))return n},wt=I.setStyleValue=function(t,e,n){R(t)&&(t=[t]);var r=t[0];if(r){A(e)||(e=[e]);var i,o=!1;!(n=M(x(n)?n():N(n)?n+"px":n).trim())||n.indexOf("+=")&&n.indexOf("-=")||(i=n.match(/([^\d.\s]*)$/)[0]||"px",n=parseFloat(n.replace("=","")),o=!0);for(var a,u,c=bt(r),s=0,f=e.length;s<f;s++)if(E(c[u=e[s]])){a=u;break}if(a)for(var l=0,h=t.length;l<h;l++)(r=t[l])&&(o&&(n=(parseFloat(Tt(r,a))||0)+n+i),r.style&&r.style.setProperty(a,n))}};function Lt(t,e,n){if(!t)return 0;var r="client"+(n=n||Q(n));if(O(t)){var i=t.documentElement,o=t.body,a="scroll"+n,u="offset"+n,c=i?Math.max(i[a],i[u],i[r]):0,s=o?Math.max(o[a],o[u],o[r]):0;return Math.max(s,c)}return T(t)?t["inner"+n]:D(t)?t[r]:0}function Ct(t,e,n){t.removeEventListener(e,n)}function xt(t){var e=t.currentTarget,n=t.target,r=e[m],i=t.type,o=t.namespace||"",a={e:i,ns:o},u=r[i];_(u.concat(),function(o,c){if(y(c,a)&&function(t,e,n){for(var r=!n;!r&&D(e)&&e!==t;)e.matches(n)&&(r=l),e=e.parentNode;return r}(e,n,c.sel))return c.once&&Et(u,r,c,a,e,i),s=c.fn.call(e,t),h=t,s===f&&(h.cancelable&&h.preventDefault(),h.returnValue=f,h.stopPropagation(),h.stopImmediatePropagation()),s;var s,h}),Mt(e,r)}function Et(t,e,n,r,i,o){t.splice(t.indexOf(n),1),t.length||(nt(e,o),Ct(i,o,xt))}function Mt(t,e){q(e,l)&&nt(t,m)}return u(W.prototype,I.fn={ready:U,byNodes:function(t){return new W(t)},get:function(t){return t===s?this:this[t]},eq:function(t){return I(-1===t?n.call(this,t):this[t])},first:function(){return this.length?this.eq(0):h},last:function(){return this.length?this.eq(this.length-1):h},filter:function(t){for(var e,n=new W,r=0,i=this.length;r<i;r++)(e=this[r])&&ht(e,t)&&(n[n.length++]=e);return n},find:function(t){if(t){var e=new W;return this.each(function(n,r){e.add(I(t,r))}),e}return this},add:function(t,e){for(var n,i=I(t,e),o=0,a=i.length;o<a;o++)(n=i[o])&&-1===r.call(this,n)&&(this[this.length++]=n);return this},each:function(t){return _(this,t)},empty:function(){return this.each(function(t,e){D(e)&&(I(this.children()).remove().empty(),e.innerHTML="")})},parent:function(){var t=new W;return this.each(function(e,n){t.add(n.parentNode)}),t},children:function(){var t=new W;return this.each(function(e,n){t.add(n.children)}),t},clone:function(){var t=new W;return this.each(function(e,n){t.add(n.cloneNode(l))}),t},detach:function(t){return(t?this.filter(t):this).each(function(t,e){var n=e&&e.parentNode;n&&n.removeChild&&n.removeChild(e)})},remove:function(t){return(t?this.filter(t):this).each(function(t,e){I(e).offAll().detach(),e&&e[g]&&nt(e,g)})},html:function(t){return arguments.length?this.each(function(e,n){n.innerHTML=t}):(t=this[0])?t.innerHTML:h},text:function(t){return arguments.length?this.each(function(e,n){n.textContent=t}):(t=this[0])?t.textContent:h},val:function(t){if(t===s){var e=this[0];return"select"===e.nodeName?e.options[e.selectedIndex].value:e.value||e.getAttribute("value")}return this.each(function(e,n){if("select"===n.nodeName){for(var r=0,i=n.options.length;r<i;r++)if(n.options[r].value===t){n.options[r].selected=l;break}}else n.value!==s?n.value=t:n.setAttribute("value",t)}),this},data:function(t,e){if(arguments.length>1)this.each(function(n,r){var i=lt(r);i&&(i[t]=e)});else{if(!L(t)){var n=lt(this[0]);return n&&t!==s?t in n?n[t]:(e=e.dataset)&&(e=e[t])!==s?n[t]=e:s:n}ct(this,"data",t)}return this},removeData:function(t){return t=st(arguments.length,t),this.each(function(e,n){n&&(n=n[g])&&ft(t||c(n),function(t){nt(n,t)})})},dataset:function(t,e){if(arguments.length>1)this.each(function(n,r){r&&(r=r.dataset)&&(r[t]=e)});else{if(!L(t)){var n=(e=this[0])&&e.dataset;return n&&t!==s?n[t]:n}ct(this,"dataset",t)}return this},removeDataset:function(t){return t=st(arguments.length,t),this.each(function(e,n){n&&(n=n.dataset)&&ft(t||c(n),function(t){try{delete n[t]}catch(t){}})})},attr:function(t,e){if(arguments.length>1)this.each(function(n,r){r&&r.setAttribute&&r.setAttribute(t,e)});else{if(!L(t))return(e=this[0])&&e.getAttribute?e.getAttribute(t):s;ct(this,"attr",t)}return this},removeAttr(t){return t=st(arguments.length,t),this.each(function(e,n){n&&n.removeAttribute&&ft(t||n.attributes,function(t){n.removeAttribute(t)})})},prop:function(t,e){if(arguments.length>1)this.each(function(n,r){r[t]=e});else{if(!L(t))return(e=this[0])?e[t]:s;ct(this,"prop",t)}return this},removeProp(t){return t=st(arguments.length,t),this.each(function(e,n){n&&t&&ft(t,function(t){nt(n,t)})})},css:function(t,e){if(L(t)){for(var n in t)a.call(t,n)&&(e=t[n],this.css(n,e));return this}if(t){if("scrollTop"===t||"scrollLeft"===t)return this[t](e);var r=gt(t);if(r){if(null!=e){var i=/^(width|height|top|left|right|bottom|margin|padding|border)/.text(t),o=!i&&/(backgound|color)$/.test(t),u=this.filter(D);return u.length&&wt(u,r,N(e)?i?e+"px":o?e.toString(16):e:e),this}var c=this[0];return D(c)?("normal"===(e=Tt(c,r))&&t in vt&&(e=vt[t]),e):void 0}}},offset:function(){var t,e,n=this[0];return D(n)&&n.getClientRects().length?(t=n.getBoundingClientRect(),e=n.ownerDocument.defaultView,{top:t.top+e.pageYOffset,left:t.left+e.pageXOffset}):{top:0,left:0}},position:function(){var t=this[0];if(D(t)){var e,n,r,i={top:0,left:0};if("fixed"===Tt(t,"position"))n=t.getBoundingClientRect();else{for(n=this.offset(),r=t.ownerDocument,e=t.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===Tt(e,"position");)e=e.parentNode;e&&e!==t&&1===e.nodeType&&((i=domFromNode(e).offset()).top+=jQuery.css(e,"borderTopWidth",!0),i.left+=jQuery.css(e,"borderLeftWidth",!0))}return{top:n.top-i.top-jQuery.css(t,"marginTop",!0),left:n.left-i.left-jQuery.css(t,"marginLeft",!0)}}},width:function(t){return dt(this,"width",t)},height:function(t){return dt(this,"height",t)},outerWidth:function(t){return pt(0,"width",t)},outerHeight:function(t){return pt(0,"height",t)},show:function(){this.css("display","block")},hide:function(){this.css("display","none")},toggle:function(){return this.each(function(t,e){"none"===I(e).css("display")?e.show():e.hide()})},index:function(t){return t?r.call(this,I(t)[0]):r.call(this.parent().children(),this[0])},hasClass:function(t){var e=f;return this.each(function(n,r){r.classList.contains(t)&&(e=l)}),e},addClass:function(t){return this.each(function(e,n){n.classList.add(t)})},removeClass:function(t){return this.each(function(e,n){n.classList.remove(t)})},toggleClass:function(t){return this.each(function(e,n){n.classList.toggle(t)})},append:function(t){var e=I(t),n=E(t);return this.each(function(t,r){n&&t>0&&(e=e.clone()),e.each(function(t,e){r.appendChild(e)})})},appendTo:function(t){return I(t).append(this),this},prepend:function(t){var e=I(t);return this.each(function(t,n){t>0&&(e=e.clone()),e.each(function(t,e){n.insertBefore(e,n.firstChild)})})},prependTo:function(t){return I(t).prepend(this),this},before:function(t){var e=I(t);return this.each(function(t,n){t>0&&(e=e.clone()),e.each(function(t,e){n.parentNode.insertBefore(e,n.parentNode.firstChild)})})},insertBefore:function(t){return I(t).before(this),this},after:function(t){var e=I(t);return this.each(function(t,n){t>0&&(e=e.clone()),e.each(function(t,e){n.parentNode.insertBefore(e,n.nextSibling)})})},insertAfter:function(t){return I(t).after(this),this},replaceWith:function(t){return this.before(t).remove()},on:function(t,e,n,r){if(!this.length)return this;var i,o,a=(t=b(t)).e;if(a&&(x(e)?(i="",x(n)||(o=e,r=n)):(i=E(e)?e.trim():"",o=n)),!x(o))return this;var u,c=f;return L(r)?(u=!!r.once,c={capture:f,passive:r.passive}):u=r===l,t.fn=o,t.sel=i,t.once=u,this.each(function(e,n){if(S(n)){var r,i=n[m]||(n[m]={});(i[a]||(r=l)&&(i[a]=[])).push(t),r&&function(t,e,n,r){t.addEventListener(e,n,r)}(n,a,xt,c)}})},off:function(t,e,n){var r,i;if(!this.length)return this;x(e)?i=e:(r=e,i=n);var o=b(t),a=o.e,u=o.ns,c=!e,s=x(i),f=a&&c&&s;return a||u||!c||s?""===a?this.offAll(u,r,n):(o.fn=i,o.sel=r,this.each(function(t,e){S(e)&&(!function(t,e,n){var r=t[m];if(r){var i=r[e];i&&i.concat().forEach(function(o){y(o,n,l)&&Et(i,r,o,n,t,e)}),Mt(r)}}(e,a,o),f&&Ct(e,a,i))})):this},offAll:function(t,e,n){return x(t)?(n=t,t=""):x(e)&&(n=e,e=""),t=E(t)?t:"",this.each(function(r,i){if(S(i)){var o=i[m];if(L(o))for(var a in o)o.hasOwnProperty(a)&&I(i).off(a+t,e,n)}})},trigger:function(t,e){if(!this.length)return this;var n=(t=b(t)).e,r=t.ns;return this.each(function(t,o){if(S(o)){var a=i.createEvent("HTMLEvents");a.data=e,a.namespace=r,a.initEvent(n,l,l),o.dispatchEvent(a)}})}}),I});
